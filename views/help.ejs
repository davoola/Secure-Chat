<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Secure Chat Help</title>
    <link rel="stylesheet" href="/style.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css">
</head>
<body class="index-body">
    <div class="index-container" style="max-width: 800px; height: 95vh; overflow-y: auto;">
        <div class="help-content">
            <%- md2html(`
# Secure Chat 使用说明

---
## 功能特点

- 💬 实时聊天：支持多人同时在线聊天
- 🔒 密码保护：可以为聊天室设置密码
- 👥 用户管理：显示在线用户列表
- 📁 文件分享：支持上传和分享文件
- 📢 公告栏：管理员可以设置和更新公告
- 🎥 视频同步播放：支持多人同步观看视频
- 📺 IPTV 直播：支持观看 IPTV 直播源（支持 IPv6）
- 📝 Markdown 支持：可以使用 Markdown 语法发送富文本消息
  - ✅ 任务列表：支持可交互的任务列表
  - 🎨 代码高亮：支持多种编程语言的代码高亮显示

---
## 基本使用说明

### 聊天室创建
1. 在首页输入用户昵称和房间ID
2. 可选择设置房间密码
3. 点击"Join Room"按钮创建/加入房间

### 发送消息
- 在输入框中输入消息，按 Enter 发送
- 按 Shift + Enter 可以换行

### 修改昵称
- 点击工具栏的"修改昵称"按钮
- 或者在输入框中输入 \`change\` 命令

### 上传文件
- 点击工具栏的"上传文件"按钮
- 支持的文件类型：
  - 图片：png, jpg, gif, webp 等
  - 音频：mp3, wav, ogg
  - 视频：mp4, webm
  - 其他：所有文件类型

### 清除屏幕
- 点击工具栏的"清除屏幕"按钮
- 或者在输入框中输入 \`clear\` 命令

### 退出聊天室
- 点击工具栏的"退出"按钮
- 或者在输入框中输入 \`exit\` 命令

---
## Markdown 语法指南

**支持的 -Markdown- 语法包括**：

### 文本格式化

**粗体文本示例**：
\`\`\`
**粗体文本** 或 __粗体文本__
\`\`\`

*斜体文本示例*：
\`\`\`
*斜体文本* 或 _斜体文本_
\`\`\`

***粗斜体文本示例***：
\`\`\`
***粗斜体文本*** 或 ___粗斜体文本___
\`\`\`

### 标题

支持6级标题：
\`\`\`
# 一级标题
## 二级标题
### 三级标题
#### 四级标题
##### 五级标题
###### 六级标题
\`\`\`

### 列表

无序列表示例：
\`\`\`
- 第一项
- 第二项
  - 子项一
  - 子项二
- 第三项
\`\`\`

有序列表示例：
\`\`\`
1. 第一项
2. 第二项
   1. 子项一
   2. 子项二
3. 第三项
\`\`\`

### 任务列表

任务列表示例：

`) %>
        </div>
		
	<img src="/list.png" alt="任务列表" style="display: block; margin: 0 auto;">
        <div class="help-content">
            <%- md2html(`

任务列表语法：

\`\`\`markdown
- [x] 项目规划
  - [x] 需求分析
  - [x] 技术选型
  - [ ] 详细设计
- [ ] 开发阶段
  - [x] 前端开发
  - [ ] 后端开发
  - [ ] 单元测试
- [ ] 部署上线
  - [ ] 服务器配置
  - [ ] CI/CD 配置
  - [ ] 性能测试
\`\`\`

### 代码

行内代码：\`console.log('Hello World')\`

代码块（支持语法高亮）：

\`\`\`javascript
// JavaScript 示例
function greeting(name) {
    return \`Hello, \${name}!\`;
}
console.log(greeting('World'));
\`\`\`

\`\`\`python
# Python 示例
def greeting(name):
    return f"Hello, {name}!"
print(greeting('World'))
\`\`\`

\`\`\`cpp
// C++ 示例
#include <iostream>
using namespace std;

int main() {
    cout << "Hello, World!" << endl;
    return 0;
}
\`\`\`

### 表格示例

支持对齐方式：

| 左对齐 | 居中对齐 | 右对齐 |
|:---|:---:|---:|
| 左对齐内容 | 居中内容 | 右对齐内容 |
| 示例文本 | 示例文本 | 示例文本 |

\`\`\`
| 左对齐 | 居中对齐 | 右对齐 |
|:---|:---:|---:|
| 左对齐内容 | 居中内容 | 右对齐内容 |
| 示例文本 | 示例文本 | 示例文本 |
\`\`\`

### 引用

支持多级引用：

> 一级引用
>> 二级引用
>>> 三级引用

\`\`\`
> 一级引用
>> 二级引用
>>> 三级引用
\`\`\`

### 链接

[Secure Chat 项目链接](https://github.com/davoola/secure-chat)

\`\`\`
[链接文字](URL)
\`\`\`

---
## 视频同步播放功能

### 开始同步播放
1. 在"在线视频"输入框中输入视频 URL
2. 点击"同步观看"按钮
3. 其他用户会收到邀请通知

支持的视频格式：
- MP4 直链
- WebM 直链
- M3U8 流媒体

### 接受/拒绝邀请
- 收到邀请后可以选择接受或拒绝
- 接受后会自动同步播放进度
- 15秒后未操作自动关闭邀请

### 控制播放
- 播放/暂停会自动同步到其他用户
- 进度调整会自动同步到其他用户
- 支持调整播放器窗口大小
- 支持拖动播放器位置

### 退出同步
- 点击视频播放器右上角的"退出同步"按钮
- 主播退出后其他用户自动退出

---
## IPTV 直播功能

### 观看直播
1. 在"在线视频"输入框中输入 IPTV 直播源地址（m3u8 格式）
2. 支持 IPv6 地址格式(首先要保证部署的服务器支持IPv6,目前测试环境并**不**支持IPv6)，例如：

#### 央视频道
- CGTN英语：\`https://0472.org/hls/cgtn.m3u8\`
- CGTN记录：\`https://0472.org/hls/cgtnd.m3u8\`
- CCTV3 综艺频道：\`http://[2409:8087:1e03:21::2]:6060/cms001/ch00000090990000001186/index.m3u8\`

#### 卫视频道
- 湖南卫视：\`http://[2409:8087:1e03:21::2]:6060/cms001/ch00000090990000001026/index.m3u8\`
- 浙江卫视：\`http://[2409:8087:1e03:21::2]:6060/cms001/ch00000090990000001023/index.m3u8\`
- 东方卫视：\`http://[2409:8087:1e03:21::2]:6060/cms001/ch00000090990000001013/index.m3u8\`

### 播放控制
- 支持暂停/播放
- 支持音量调节
- 支持全屏播放
- 支持画质切换（如果直播源提供多码率）

### 邀请他人观看
- 开始播放后，其他用户会收到邀请
- 可以选择接受或拒绝邀请
- 支持多人同时观看

### 结束直播
- 点击播放器右上角的"关闭"按钮
- 主播关闭后其他观众自动退出

---
## 管理员功能

> 房间创建者自动成为管理员

### 设置公告
使用 \`announce\` 命令设置公告，支持 Markdown 格式：

\`\`\`
announce # 聊天室公告
- 请文明发言
- 禁止发布违规内容
- 支持 **Markdown** 格式
\`\`\`

### 踢出用户
使用 \`kick\` 命令踢出用户：

\`\`\`
kick username
\`\`\`

---
## 特殊房间

### Tech 房间
- 房间ID：\`Tech\`
- 密码：\`abc\`
- 用途：技术交流

### Science 房间
- 房间ID：\`Science\`
- 密码：\`xyz\`
- 用途：科学讨论

---
## 快捷命令

| 命令 | 说明 | 示例 |
|:---|:---|:---|
| \`help\` | 显示帮助信息 | \`help\` |
| \`clear\` | 清除聊天记录 | \`clear\` |
| \`change\` | 修改用户名 | \`change\` |
| \`exit\` | 退出聊天室 | \`exit\` |
| \`announce\` | 更新公告栏 | \`announce 欢迎来到聊天室\` |
| \`kick\` | 踢出用户 | \`kick username\` |

---
## 安全提示

1. 请勿在聊天中透露个人敏感信息
2. 定期更换房间密码
3. 不要点击来源不明的链接
4. 上传文件前请确保文件安全
5. 及时举报违规内容

---
> ❤️ 愿这里成为您温暖的港湾，让我们共同维护这份美好 ❤️

`) %>
        </div>
    </div>
</body>
</html>